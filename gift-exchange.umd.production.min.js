!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).GiftExchange={})}(this,(function(t){"use strict";function e(t){return(e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function o(t,e,u){return(o=r()?Reflect.construct:function(t,e,r){var o=[null];o.push.apply(o,e);var u=new(Function.bind.apply(t,o));return r&&n(u,r.prototype),u}).apply(null,arguments)}function u(t){var r="function"==typeof Map?new Map:void 0;return(u=function(t){if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,u)}function u(){return o(t,arguments,e(this).constructor)}return u.prototype=Object.create(t.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),n(u,t)})(t)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var i=function(t){var e,n;function r(){for(var e,n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];return e=t.call.apply(t,[this].concat(o))||this,Object.setPrototypeOf(c(e),(this instanceof r?this.constructor:void 0).prototype),e.name="DerangementError",e}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r}(u(Error)),f=function(t,e,n){return void 0===n&&(n=[]),t.length===e.length&&t.every((function(t,r){var o=e[r];return t.name!==o.name&&(!t.group&&!o.group||t.group!==o.group)&&n.filter((function(e){return t[e.type]===e.subject})).every((function(t){return o[t.excludedType]!==t.excludedSubject}))}))};function a(t,e){if(t.length<2)return t.slice(0);var n,r,o,u=1e3;Array.isArray(e)?n=e:(n=null!=(r=null==e?void 0:e.exclusions)?r:[],u=null!=(o=null==e?void 0:e.timeout)?o:1e3);var c=[],a=[],l=function(){var e=function(t){for(var e,n=t.length;0!==n;){e=Math.floor(Math.random()*n);var r=t[n-=1];t[n]=t[e],t[e]=r}return t}([].concat(t));c=e.slice(0),(a=e.slice(0)).push(a.shift())},p=Date.now(),s=function(){if(Date.now()-p>u)throw new i("No derangement found");return f.apply(void 0,arguments)};for(l();!s(c,a,n);)l();return t.map((function(t){var e=c.findIndex((function(e){return e.name===t.name}));return a[e]}))}t.DerangementError=i,t.calculate=function(t,e){return new Promise((function(n,r){try{n(a(t,e))}catch(t){r(t)}}))},t.calculateSync=a,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=gift-exchange.umd.production.min.js.map
