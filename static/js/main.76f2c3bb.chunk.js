(window["webpackJsonpsecret-santa"]=window["webpackJsonpsecret-santa"]||[]).push([[0],{11:function(e,t,n){e.exports=n(20)},16:function(e,t,n){},17:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(6),u=n.n(c),l=(n(16),n(2)),o=(n(17),n(4)),i=n(9),m=n(3);n(19);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var s=a.a.forwardRef((function(e,t){var n=Object(m.a)(e),r=Object(l.a)(n,3),c=r[0],u=r[1],i=r[2],s=Object(m.b)(c,u),f=s.meta,b=f.error,O=f.isTouched,d=f.isValidating,E=s.getInputProps;return a.a.createElement(a.a.Fragment,null,a.a.createElement("input",Object.assign({id:c},E(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({ref:t},i)))),d?a.a.createElement("em",null,"Validating..."):O&&b?a.a.createElement("em",null,b):null)})),f=n(10),b=function(e){var t=Object(m.a)(e),n=Object(l.a)(t,3),c=n[0],u=n[1],o=n[2],i=o.options,p=Object(f.a)(o,["options"]),s=Object(r.useRef)(null),b=Object(m.b)(c,u),O=b.value,d=void 0===O?"":O,E=b.setValue,g=b.meta,j=g.error,v=g.isTouched,y=g.isValidating,h=Object(r.useState)(""),w=Object(l.a)(h,2),P=w[0],S=w[1];Object(r.useEffect)((function(){""===d&&S("")}),[d]),Object(r.useEffect)((function(){""!==d&&!i.includes(d)&&s.current&&s.current.focus()}),[i,d]);var k=!i.includes(d)||""!==P;return a.a.createElement(a.a.Fragment,null,a.a.createElement("select",Object.assign({id:c,value:d,onChange:function(e){E(e.target.value)}},p),a.a.createElement("option",null,"Create New"),i.map((function(e){return a.a.createElement("option",{key:e,value:e},e)}))),k&&a.a.createElement("input",{type:"text","aria-label":"New group name",value:P,onChange:function(e){S(e.target.value),E(e.target.value)},ref:s}),y?a.a.createElement("em",null,"Validating..."):v&&j?a.a.createElement("em",null,j):null)};function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var d={name:"",group:""},E=function(e){return"string"===typeof e},g=function(e){var t=e.people,n=e.onSubmit,c=Object(r.useMemo)((function(){return t.map((function(e){return e.name}))}),[t]),u=Object(r.useMemo)((function(){return Object(i.a)(new Set(t.map((function(e){return e.group})).filter(E)))}),[t]),l=Object(r.useRef)(null),p=Object(m.c)({defaultValues:d,onSubmit:function(e,t){n(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(n,!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({name:e.name},e.group&&{group:e.group})),t.reset()}}),f=p.Form,g=p.meta,j=g.canSubmit,v=g.isTouched,y=g.isSubmitted,h=p.getFieldMeta;Object(r.useEffect)((function(){l.current&&y&&!v&&l.current.focus()}),[y,v]);var w=h("name");return a.a.createElement(f,null,a.a.createElement("fieldset",null,a.a.createElement("legend",null,"Add a New Person"),a.a.createElement("label",{htmlFor:"name"},"Name"),a.a.createElement(s,{field:"name",validate:function(e){return!(e&&!c.includes(e))&&"A unique name is required"},ref:l,type:"text",required:!0}),a.a.createElement("label",{htmlFor:"group"},"Group"),a.a.createElement(b,{field:"group",options:u}),a.a.createElement("button",{type:"submit",disabled:!j||w&&!w.isTouched},"Submit")))},j="fba449b5-deb3-400c-991c-4bac2bb1ad33",v=function(e){var t=e.people,n=e.removePerson,c=t.reduce((function(e,t){var n=e.find((function(e){return e.group===(t.group||j)}));return n?n.people.push(t):e.push({group:t.group||j,people:[t]}),e}),[]);return a.a.createElement("dl",null,c.map((function(e){return a.a.createElement(r.Fragment,{key:e.group},a.a.createElement("dt",null,e.group===j?a.a.createElement("strong",null,"No Group"):e.group),e.people.map((function(e){return a.a.createElement("dd",{key:e.name},e.name,a.a.createElement("button",{onClick:function(){return n(e)}},"Remove"))})))})))},y=n(1),h=n.n(y),w=n(7),P=n(8),S=function(e){var t=e.pairs;return a.a.createElement("div",{className:"responsive-table"},a.a.createElement("table",null,a.a.createElement("caption",null,"Secret Santa Matches"),a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"Giver"),a.a.createElement("th",null,"Receiver"))),a.a.createElement("tbody",null,t.map((function(e){return a.a.createElement("tr",{key:e[0]},a.a.createElement("td",null,e[0]),a.a.createElement("td",null,e[1]))})))))},k=function(e){var t=e.people,n=Object(r.useState)([]),c=Object(l.a)(n,2),u=c[0],o=c[1],i=Object(r.useState)(null),m=Object(l.a)(i,2),p=m[0],s=m[1];Object(r.useLayoutEffect)((function(){o([])}),[t]);var f=function(){var e=Object(w.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(P.a)(t);case 3:n=e.sent,o(n.map((function(e,n){return[t[n].name,e.name]}))),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),s(e.t0),o([]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement("button",{onClick:function(){s(null),f()},type:"button",disabled:t.length<1},"Match"),!p&&u.length>0&&a.a.createElement(S,{pairs:u}),p&&p.message)},D=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1];return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement("h1",null,"Secret Santa")),a.a.createElement("main",null,a.a.createElement(g,{people:n,onSubmit:function(e){c((function(t){return t.concat(e)}))}}),a.a.createElement(v,{people:n,removePerson:function(e){c((function(t){return t.filter((function(t){return t.name!==e.name}))}))}}),a.a.createElement(k,{people:n})))};u.a.render(a.a.createElement(D,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.76f2c3bb.chunk.js.map